# Template file for 'seer'
pkgname=seer
version=2.0
revision=1
build_style=cmake
configure_args="-DQTVERSION=QT5"
build_wrksrc="src"
hostmakedepends="pkg-config"
makedepends="qt5-devel qt5-charts-devel"
depends="gdb"
short_desc="GUI frontend to gdb for Linux"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-3.0-or-later"
homepage="https://github.com/epasveer/seer"
changelog="https://raw.githubusercontent.com/epasveer/seer/main/CHANGELOG.md"
distfiles="https://github.com/epasveer/seer/archive/v${version}.tar.gz"
checksum=050df5f356ddbae386617aa92edbac5acef254fa10f4ff5cccabe6c5033e8ff5

if [ "$CROSS_BUILD" ]; then
	hostmakedepends+=" qt5-qmake qt5-host-tools"
fi

post_install() {
	cd resources
	install -Dm644 seergdb_32x32.png "${DESTDIR}/usr/share/icons/hicolor/32x32/apps/seergdb.png"
	install -Dm644 seergdb_64x64.png "${DESTDIR}/usr/share/icons/hicolor/64x64/apps/seergdb.png"
	install -Dm644 seergdb_128x128.png "${DESTDIR}/usr/share/icons/hicolor/128x128/apps/seergdb.png"
	install -Dm644 seergdb_256x256.png "${DESTDIR}/usr/share/icons/hicolor/256x256/apps/seergdb.png"
	install -Dm644 seergdb_512x512.png "${DESTDIR}/usr/share/icons/hicolor/512x512/apps/seergdb.png"
	install -Dm644 seergdb.desktop -t "${DESTDIR}/usr/share/applications"
}
